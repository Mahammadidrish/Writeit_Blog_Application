{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mahammad Idrish\\\\Desktop\\\\BlogAPP\\\\Write-It-Blog-Application\\\\writeit-frontend\\\\src\\\\pages\\\\Posts.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Card, Container } from \"reactstrap\";\nimport { useParams } from \"react-router-dom\";\nimport UserContext from \"../context/UserContext\";\nimport BaseComponent from \"../components/BaseComponent\";\nimport PostForm from \"../components/PostForm\";\nimport PostView from \"../components/PostView\";\nimport { DeletePostByPostIdFunc, LoadAllPostsByUsernameFunc } from \"../services/post-service\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Posts() {\n  _s();\n  const {\n    usernameparam\n  } = useParams();\n  const {\n    userState,\n    setUserState\n  } = useContext(UserContext);\n  const [posts, setPosts] = useState([]);\n  const [mostrecentfirst, setMostrecetfirst] = useState(true);\n\n  //for first time page load handling\n  useEffect(() => {\n    LoadPostsByUsername(userState.data.username, mostrecentfirst);\n  }, []);\n\n  //reusable function for loading\n  function LoadPostsByUsername(username, mostrecentfirst) {\n    LoadAllPostsByUsernameFunc(username, mostrecentfirst).then(data => {\n      setPosts([...data]);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n  function handlePostDelete(username, postid) {\n    console.log(username, postid);\n    DeletePostByPostIdFunc(username, postid).then(response => {\n      toast.success(\"Post Deleted Successfully!!\");\n      LoadPostsByUsername(userState.data.username, mostrecentfirst);\n    }).catch(error => {\n      toast.error(error);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(BaseComponent, {\n    children: [/*#__PURE__*/_jsxDEV(PostForm, {\n      LoadPostsByUsername: LoadPostsByUsername\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-2 mb-2 text-center\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Total Posts ( \", posts.length, \" )\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: userState && (posts === null || posts === void 0 ? void 0 : posts.map(post => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(PostView, {\n              post: post,\n              handlePostDelete: handlePostDelete\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this)\n          }, post.pid, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this);\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(Posts, \"RAs24orXiIQ4yUxWca0P8CqTLHs=\", false, function () {\n  return [useParams];\n});\n_c = Posts;\nexport default Posts;\nvar _c;\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Card","Container","useParams","UserContext","BaseComponent","PostForm","PostView","DeletePostByPostIdFunc","LoadAllPostsByUsernameFunc","toast","jsxDEV","_jsxDEV","Posts","_s","usernameparam","userState","setUserState","posts","setPosts","mostrecentfirst","setMostrecetfirst","LoadPostsByUsername","data","username","then","catch","error","console","log","handlePostDelete","postid","response","success","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","map","post","pid","_c","$RefreshReg$"],"sources":["C:/Users/Mahammad Idrish/Desktop/BlogAPP/Write-It-Blog-Application/writeit-frontend/src/pages/Posts.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Card, Container } from \"reactstrap\";\nimport { useParams } from \"react-router-dom\";\nimport UserContext from \"../context/UserContext\";\nimport BaseComponent from \"../components/BaseComponent\";\nimport PostForm from \"../components/PostForm\";\nimport PostView from \"../components/PostView\";\nimport {\n  DeletePostByPostIdFunc,\n  LoadAllPostsByUsernameFunc,\n} from \"../services/post-service\";\nimport { toast } from \"react-toastify\";\nfunction Posts() {\n  const { usernameparam } = useParams();\n  const { userState, setUserState } = useContext(UserContext);\n  const [posts, setPosts] = useState([]);\n  const [mostrecentfirst, setMostrecetfirst] = useState(true);\n\n  //for first time page load handling\n  useEffect(() => {\n    LoadPostsByUsername(userState.data.username, mostrecentfirst);\n  }, []);\n\n  //reusable function for loading\n  function LoadPostsByUsername(username, mostrecentfirst) {\n    LoadAllPostsByUsernameFunc(username, mostrecentfirst)\n      .then((data) => {\n        setPosts([...data]);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function handlePostDelete(username, postid) {\n    console.log(username, postid);\n    DeletePostByPostIdFunc(username, postid)\n      .then((response) => {\n        toast.success(\"Post Deleted Successfully!!\");\n        LoadPostsByUsername(userState.data.username,mostrecentfirst);\n      })\n      .catch((error) => {\n        toast.error(error);\n      });\n  }\n\n  return (\n    <BaseComponent>\n      <PostForm LoadPostsByUsername={LoadPostsByUsername}/>\n      <Container className=\"mt-2 mb-2 text-center\">\n        <Card>\n          <h2>Total Posts ( {posts.length} )</h2>\n        </Card>\n      </Container>\n\n      <div className=\"container\">\n        <div className=\"row justify-content-center\">\n          {userState &&\n            posts?.map((post) => {\n              return (\n                <div key={post.pid} className=\"col-md-4\">\n                  <PostView post={post} handlePostDelete={handlePostDelete} />\n                </div>\n              );\n            })}\n        </div>\n      </div>\n    </BaseComponent>\n  );\n}\n\nexport default Posts;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}